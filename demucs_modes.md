# –†–µ–∂–∏–º—ã —Ä–∞–±–æ—Ç—ã Demucs

## –î–æ—Å—Ç—É–ø–Ω—ã–µ –º–æ–¥–µ–ª–∏ Demucs

### –û—Å–Ω–æ–≤–Ω—ã–µ –º–æ–¥–µ–ª–∏:
- **mdx** - –ë–∞–∑–æ–≤–∞—è –º–æ–¥–µ–ª—å, –±—ã—Å—Ç—Ä–∞—è –∏ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–∞—è
- **htdemucs** - –í—ã—Å–æ–∫–æ–∫–∞—á–µ—Å—Ç–≤–µ–Ω–Ω–∞—è –º–æ–¥–µ–ª—å —Å –ª—É—á—à–∏–º —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ–º
- **htdemucs_ft** - Fine-tuned –≤–µ—Ä—Å–∏—è htdemucs
- **mdx_q** - –ö–æ–ª–∏—á–µ—Å—Ç–≤–µ–Ω–Ω–∞—è –≤–µ—Ä—Å–∏—è mdx (—Ç—Ä–µ–±—É–µ—Ç diffq)
- **mdx_extra_q** - –†–∞—Å—à–∏—Ä–µ–Ω–Ω–∞—è –∫–æ–ª–∏—á–µ—Å—Ç–≤–µ–Ω–Ω–∞—è –≤–µ—Ä—Å–∏—è

### –†–µ–∂–∏–º—ã –∫–∞—á–µ—Å—Ç–≤–∞:

#### üöÄ –ë—ã—Å—Ç—Ä—ã–π —Ä–µ–∂–∏–º (fast):
- –ú–æ–¥–µ–ª—å: `mdx`
- –°–¥–≤–∏–≥–∏: 1
- –ü–µ—Ä–µ–∫—Ä—ã—Ç–∏–µ: 0.25
- –ü–æ—Ç–æ–∫–∏: 1
- –í—Ä–µ–º—è: ~30-60 —Å–µ–∫—É–Ω–¥
- –ö–∞—á–µ—Å—Ç–≤–æ: –•–æ—Ä–æ—à–µ–µ

#### ‚öñÔ∏è –°–±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Ä–µ–∂–∏–º (balanced):
- –ú–æ–¥–µ–ª—å: `mdx`
- –°–¥–≤–∏–≥–∏: 3
- –ü–µ—Ä–µ–∫—Ä—ã—Ç–∏–µ: 0.25
- –ü–æ—Ç–æ–∫–∏: 2
- –í—Ä–µ–º—è: ~1-2 –º–∏–Ω—É—Ç—ã
- –ö–∞—á–µ—Å—Ç–≤–æ: –û—Ç–ª–∏—á–Ω–æ–µ

#### üöÄ –ë—ã—Å—Ç—Ä—ã–π —Ä–µ–∂–∏–º (fast) - **–ü–û –£–ú–û–õ–ß–ê–ù–ò–Æ**:
- –ú–æ–¥–µ–ª—å: `mdx`
- –°–¥–≤–∏–≥–∏: 1
- –ü–µ—Ä–µ–∫—Ä—ã—Ç–∏–µ: 0.25
- –ü–æ—Ç–æ–∫–∏: 1
- –í—Ä–µ–º—è: ~1-2 –º–∏–Ω—É—Ç—ã
- –ö–∞—á–µ—Å—Ç–≤–æ: –•–æ—Ä–æ—à–µ–µ
- **–†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è**: –û–ø—Ç–∏–º–∞–ª—å–Ω—ã–π –±–∞–ª–∞–Ω—Å —Å–∫–æ—Ä–æ—Å—Ç–∏ –∏ –∫–∞—á–µ—Å—Ç–≤–∞

#### üéØ –í—ã—Å–æ–∫–æ–µ –∫–∞—á–µ—Å—Ç–≤–æ (high):
- –ú–æ–¥–µ–ª—å: `htdemucs`
- –°–¥–≤–∏–≥–∏: 10
- –ü–µ—Ä–µ–∫—Ä—ã—Ç–∏–µ: 0.25
- –ü–æ—Ç–æ–∫–∏: 4
- –í—Ä–µ–º—è: ~3-5 –º–∏–Ω—É—Ç
- –ö–∞—á–µ—Å—Ç–≤–æ: –ü—Ä–µ–≤–æ—Å—Ö–æ–¥–Ω–æ–µ

## –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –Ω–∞—Å—Ç—Ä–æ–π–∫–∏:

### –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–¥–≤–∏–≥–æ–≤ (--shifts):
- **1-2**: –ë—ã—Å—Ç—Ä–æ, —Ö–æ—Ä–æ—à–µ–µ –∫–∞—á–µ—Å—Ç–≤–æ
- **3-5**: –°–±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∞–Ω–Ω–æ
- **6-10**: –ú–µ–¥–ª–µ–Ω–Ω–æ, –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –∫–∞—á–µ—Å—Ç–≤–æ

### –ü–µ—Ä–µ–∫—Ä—ã—Ç–∏–µ —Å–µ–≥–º–µ–Ω—Ç–æ–≤ (--overlap):
- **0.1**: –ë—ã—Å—Ç—Ä–æ, –º–µ–Ω—å—à–µ –ø–∞–º—è—Ç–∏
- **0.25**: –°–±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∞–Ω–Ω–æ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)
- **0.5**: –ú–µ–¥–ª–µ–Ω–Ω–æ, –ª—É—á—à–µ–µ –∫–∞—á–µ—Å—Ç–≤–æ

### –£—Å—Ç—Ä–æ–π—Å—Ç–≤–æ (--device):
- **cpu**: –£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–æ, –º–µ–¥–ª–µ–Ω–Ω–µ–µ
- **cuda**: –ë—ã—Å—Ç—Ä–µ–µ, —Ç—Ä–µ–±—É–µ—Ç GPU

### –§–æ—Ä–º–∞—Ç –≤—ã–≤–æ–¥–∞:
- **--mp3**: MP3 —Ñ–æ—Ä–º–∞—Ç
- **--flac**: FLAC —Ñ–æ—Ä–º–∞—Ç (–ª—É—á—à–µ –∫–∞—á–µ—Å—Ç–≤–æ)
- **--float32**: –í—ã—Å–æ–∫–æ–µ –∫–∞—á–µ—Å—Ç–≤–æ, –±–æ–ª—å—à–µ —Ä–∞–∑–º–µ—Ä

## –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è:

```bash
# –ë—ã—Å—Ç—Ä—ã–π —Ä–µ–∂–∏–º
python main.py --file song.mp3 --demucs-quality fast

# –°–±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Ä–µ–∂–∏–º (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)
python main.py --file song.mp3 --demucs-quality balanced

# –í—ã—Å–æ–∫–æ–µ –∫–∞—á–µ—Å—Ç–≤–æ
python main.py --file song.mp3 --demucs-quality high

# –ö–∞—Å—Ç–æ–º–Ω–∞—è –º–æ–¥–µ–ª—å
python main.py --file song.mp3 --demucs-model htdemucs
```

## –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏:

1. **–ü–æ —É–º–æ–ª—á–∞–Ω–∏—é**: –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `fast` —Ä–µ–∂–∏–º (–æ–ø—Ç–∏–º–∞–ª—å–Ω—ã–π –±–∞–ª–∞–Ω—Å —Å–∫–æ—Ä–æ—Å—Ç–∏ –∏ –∫–∞—á–µ—Å—Ç–≤–∞)
2. **–î–ª—è –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–≥–æ –∫–∞—á–µ—Å—Ç–≤–∞**: –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ `high` —Ä–µ–∂–∏–º
3. **–î–ª—è –ø–æ–≤—Å–µ–¥–Ω–µ–≤–Ω–æ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è**: –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ `balanced` —Ä–µ–∂–∏–º
4. **–î–ª—è GPU**: —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ `DEMUCS_DEVICE = "cuda"`
5. **–î–ª—è —ç–∫–æ–Ω–æ–º–∏–∏ –º–µ—Å—Ç–∞**: –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ MP3 –≤–º–µ—Å—Ç–æ FLAC

## –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é:

- **–†–µ–∂–∏–º –∫–∞—á–µ—Å—Ç–≤–∞**: `fast` (–æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω –¥–ª—è –ª—É—á—à–µ–≥–æ –∫–∞—á–µ—Å—Ç–≤–∞ —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏–∏)
- **–ú–æ–¥–µ–ª—å**: `mdx` (–±—ã—Å—Ç—Ä–∞—è –∏ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–∞—è)
- **–°–¥–≤–∏–≥–∏**: 1 (–±–∞–ª–∞–Ω—Å —Å–∫–æ—Ä–æ—Å—Ç–∏ –∏ –∫–∞—á–µ—Å—Ç–≤–∞)
- **–£—Å—Ç—Ä–æ–π—Å—Ç–≤–æ**: `cpu` (—É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–æ)
